[[!comment format=mdwn
 username="joey"
 subject="""comment 2"""
 date="2023-03-28T19:29:01Z"
 content="""
What about simply increasing the protocol version number? If VERSION 2 is
the same as VERSION 1, but only supported by the fixed git-annex, then an
external can just be updated to send VERSION 2, and it does not need to
worry about talking with a buggy version of git-annex.

git-annex could either continue to also support VERSION 1, or it could
refuse to work with externals that don't use VERSION 2. The latter would
force externals to get updated. But then those externals would have no way to work
with old git-annex even if they wanted to. I think forcing an update is not called
for. So git-annex will keep supporting both versions.
"""]]
