[[!comment format=mdwn
 username="skcin"
 avatar="http://cdn.libravatar.org/avatar/11a5a31cf0943808f44edb7154d32bd1"
 subject="Option to not follow symlinks?"
 date="2022-08-18T15:32:43Z"
 content="""
Hey,
I just got bitten by this. Is there an option to not follow symlinks?
If not(and I couldn't find an option), it would be nice to add that. I have no strong opinion on wether it should be a default or not.

Maybe it is stupid and there is a much better way, but here is what I did.
I decided to move all my data into git annex. I had a total mess of old hard drives with data, backups or both. Some 10+ years old.
So I started to use the directory import with deduplication to import each Hdd into a separate folder of my annex. That worked very well and left me with a much smaller amount of data to organize and empty Hdds ready to wipe+dispose.

Where things went wrong was when I imported an old external Hdd with a backup of a home directory from 2011 on it. Apparently I had wine installed at that time which had created symlinks in .wine to the following directories.

* `/`
* `/home/USERNAME`

Conveniently I use the same username now as I used back then. ;) 
I noticed that something was wrong because the import took very long and the KDE desktop started to misbehave. Probably git annex deleted some files KDE needed. I don't know why but at first glance there is not much data missing from my home directory. But now there are a lot of files in my annex that I don't want.

I think it is not too painful to sort this out but it would have been easy to avoid. My use case for this will probably go away once all the old Hdds are gone. But scenarios like this might not be that rare for new users coming from a world without numcopies and location tracking.

I have been eyeing git-annex for a couple of years now and finally got around to actually use it. I am very impressed and a huge fan. Thanks for all the work.
"""]]
