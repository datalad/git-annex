[[!comment format=mdwn
 username="joey"
 subject="""comment 17"""
 date="2023-06-06T19:07:25Z"
 content="""
Another expensive thing sync has to do, due to the adjusted branch
being checked out, is Command.Sync.updateBranches. In my repo with 10000
files, when not using --content, that is responsible for most of the run
time of a sync when there is nothing new to import or pull.

It should be possible for sync to avoid running that when it didn't pull
any changes that need to be propagated back to the parent branch from the
adjusted branch.

With the master branch checked out instead, `git-annex sync --content` is
now as fast as `git-annex find --not --in source`.
"""]]
