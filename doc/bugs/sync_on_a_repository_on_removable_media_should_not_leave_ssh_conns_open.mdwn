I have a client, non-bare, direct mode repository on a USB key.  I use this to work on my files on Windows terminals at work.  When I return to my own (Debian) workstation at home, I mount the drive, `cd /media/swhitton/SPWHITTON/annex && git annex sync --content`.  This sync the contents of the key with both my workstation's `/home` and a remote VPS over SSH.  When the sync is complete, Thunar can't unmount the key because git annex leaves ssh connections to my VPS open, with the working directory inside `/media/swhitton/SPWHITTON/annex`.  So I have to run `pkill ssh`.  It would be great if `git annex sync` could detect that a non-bare repository is on removable media, and not leave SSH connections open when it's finished the sync.  Thanks!  --spwhitton
