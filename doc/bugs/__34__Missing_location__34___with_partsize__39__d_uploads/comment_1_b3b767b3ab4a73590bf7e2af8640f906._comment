[[!comment format=mdwn
 username="joey"
 subject="""comment 1"""
 date="2023-09-26T17:07:59Z"
 content="""
The "Missing Location" message is generated by the aws library when a
multipart upload results in a response from the S3 server that does not
include a Location tag.

You should be able to verify this by passing --debug to see the http
response.

This is documented in the AWS API
[here](https://docs.aws.amazon.com/AmazonS3/latest/API/API_CompleteMultipartUpload.html#AmazonS3-CompleteMultipartUpload-response-Location).

I suspect this is (another) respect where the Garage server doesn't
implement the API quite right..

It would be possible to change the aws library to not throw an error here,
and git-annex is not actually using that Location tag for anything. But it
seems like it would probably be better to fix Garage.

Setting chunk= rather than partsize= should be an easy workaround for the
problem.
"""]]
